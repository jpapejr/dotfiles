"use strict";var k=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var J=(t,e)=>{for(var r in e)k(t,r,{get:e[r],enumerable:!0})},Y=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of W(e))!O.call(t,i)&&i!==r&&k(t,i,{get:()=>e[i],enumerable:!(n=q(e,i))||n.enumerable});return t};var z=t=>Y(k({},"__esModule",{value:!0}),t);var gt={};J(gt,{default:()=>L});module.exports=z(gt);var D=require("react");var G=Object.defineProperty,E=(t,e)=>{for(var r in e)G(t,r,{get:e[r],enumerable:!0})},N=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},g=(t,e,r)=>(N(t,e,"read from private field"),r?r.call(t):e.get(t)),V=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},M=(t,e,r,n)=>(N(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),K={};E(K,{contains:()=>tt,ip2long:()=>Q,isCIDR:()=>Z,isConflict:()=>_,isValidIP:()=>T,long2ip:()=>U});function Q(t){return T(t)?l.ip2long(t)||v.ip2long(t):!1}function U(t){return typeof t!="number"&&typeof t!="bigint"?!1:l.long2ip(t)||v.long2ip(t)}function Z(t){return typeof t!="string"?!1:l.isCIDR(t)||v.isCIDR(t)}function T(t){return typeof t!="string"?!1:l.isValidIP(t)||v.isValidIP(t)}function _(t){return!Array.isArray(t)||t.length===0?!1:l.isConflict(t)||v.isConflict(t)}function tt(t,e){return typeof t!="string"||typeof e!="string"?!1:l.contains(t,e)||v.contains(t,e)}var l={};E(l,{contains:()=>x,ip2long:()=>a,ipRange:()=>X,isCIDR:()=>rt,isConflict:()=>ot,isEqual:()=>nt,isPrivate:()=>it,isSameSubnet:()=>at,isValidIP:()=>c,isValidMask:()=>b,long2ip:()=>p,parseCIDR:()=>C,parseSubnet:()=>st,toBinHex:()=>ft,toIPv6Format:()=>ct,toInverseMask:()=>dt,toMaskLength:()=>B,toSubnetMask:()=>S});function a(t){if(!c(t))return!1;let e=0,r=t.split(".");for(let n of r)e=(e<<8)+ +n;return e>>>0}function p(t){if(typeof t!="number"||isNaN(t))return!1;if(t>=0&&t<=4294967295){let e=[];for(let r=3;r>=0;r--)e.push(t>>>r*8&255);return e.join(".")}else return!1}var h,m,et=class H{constructor(e,r){if(V(this,h,void 0),V(this,m,void 0),+e<0||+e>4294967295||+r<0||+r>4294967295)throw new Error("Invalid start or end IPv4 address");M(this,h,e),M(this,m,r)}static fromLong(e,r){if(typeof e!="number"||typeof r!="number")throw new Error("Invalid start or end IPv4 address");if(+r<+e)throw new Error("Invalid range value, end must be greater than or equal to start");return new H(e,r)}static fromString(e,r){let n=a(e),i=a(r);if(typeof n!="number"||typeof i!="number")throw new Error("Invalid start or end IPv4 address");if(i<n)throw new Error("Invalid range value, end must be greater than or equal to start");return new H(n,i)}ip2long(){return[g(this,h),g(this,m)]}long2ip(){return[p(g(this,h)),p(g(this,m))]}ipCount(){return g(this,m)-g(this,h)+1}contains(e){let r=a(e);return typeof r!="number"?!1:r>=g(this,h)&&r<=g(this,m)}};h=new WeakMap,m=new WeakMap;var X=et;function rt(t){return typeof t!="string"?!1:typeof C(t)=="object"}function nt(t,e){return typeof t=="number"&&(t<0||t>4294967295)||typeof e=="number"&&(e<0||e>4294967295)||(typeof t=="string"&&(t=a(t)),typeof e=="string"&&(e=a(e)),typeof t!="number"||typeof e!="number")?!1:t===e}function x(t,e){let r=C(t);if(typeof r!="object"||!c(e))return!1;let{cidrMask:n,firstHost:i,lastHost:o,networkAddress:f,broadcastAddress:u}=r;return n>=31?X.fromString(i,o).contains(e):X.fromString(f,u).contains(e)}function c(t,e={strict:!1}){return e.strict?/^(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|[1-9])(\.(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)){3}$/.test(t):/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.test(t)}function it(t){if(!c(t))return!1;let e=[{start:"10.0.0.0",end:"10.255.255.255"},{start:"127.0.0.0",end:"127.255.255.255"},{start:"172.16.0.0",end:"172.31.255.255"},{start:"169.254.0.0",end:"169.254.255.255"},{start:"192.168.0.0",end:"192.168.255.255"}];for(let r of e)if(X.fromString(r.start,r.end).contains(t))return!0;return!1}function C(t){if(typeof t!="string")return!1;let[e,r]=t.split("/");if(e===void 0||r===void 0||r===""||!c(e,{strict:!0})||!b(+r))return!1;let n=32-+r,i=a(e),o=Number(0b1n<<BigInt(n)),f=+r?i>>n<<n>>>0:0,u=(f|o-1)>>>0;return{ipCount:o,cidrMask:+r,usableCount:+r<31?o-2:o,subnetMask:S(+r),networkAddress:+r<31?p(f):"",broadcastAddress:+r<31?p(u):"",firstHost:p(f+(+r<31?1:0)),lastHost:p(u-(+r<31?1:0))}}function ot(t){if(!Array.isArray(t)||t.length===0)return!1;let e=[];for(let r of t){let n=C(r);typeof n=="object"&&e.push({cidr:r,networkAddress:n.networkAddress||n.firstHost})}for(let r=0;r<e.length;r++)for(let n=r+1;n<e.length;n++){let i=x(e[n].cidr,e[r].networkAddress),o=x(e[r].cidr,e[n].networkAddress);if(i||o)return!0}return!1}function st(t,e){if(!c(t)||!b(e))return!1;let r=B(e);return C(`${t}/${r}`)}function b(t){if(typeof t=="number"&&!isNaN(t))return!(t<0||t>32);if(typeof t=="string"){let e=a(t);return typeof e!="number"?!1:/^1*0*$/.test(e.toString(2).padStart(32,"0"))}else return!1}function at(t,e,r){if(!c(t)||!c(e)||!b(r))return!1;let n=a(t),i=a(e);typeof r=="number"&&(r=S(r));let o=a(r);return(n&o)===(i&o)}function ft(t){if(!c(t))return!1;let e=a(t);return{decimal:e,hex:`0x${e.toString(16).padStart(8,"0")}`,binary:e.toString(2).padStart(32,"0")}}var v={};E(v,{compressedForm:()=>R,contains:()=>j,expandedForm:()=>P,ip2long:()=>y,isCIDR:()=>lt,isConflict:()=>pt,isEqual:()=>ut,isValidIP:()=>A,long2ip:()=>$,parseCIDR:()=>w});function y(t){if(!A(t))return!1;let e=[];t=P(t);let r=t.split(":");for(let n=0;n<r.length;n++){let i=parseInt(r[n],16);e.push(i.toString(2).padStart(16,"0"))}return BigInt(`0b${e.join("")}`)}function R(t){if(!A(t))return!1;if(y(t)===0n)return"::";t=P(t);let e=t.split(":").map(n=>{let i=parseInt(n,16);return i?i.toString(16):"X"}).join(":"),r=[/(X:X:X:X:X:X:X)/,/(X:X:X:X:X:X)/,/(X:X:X:X:X)/,/(X:X:X:X)/,/(X:X:X)/,/(X:X)/];for(let n=0;n<r.length;n++)if(e.match(r[n]))return e.replace(r[n],":").replace(":::","::").replaceAll("X","0");return e.replaceAll("X","0")}function $(t){if(typeof t!="bigint")return!1;if(t>=0n&&t<=340282366920938463463374607431768211455n){let e=[],r=t.toString(16).padStart(32,"0");for(let n=0;n<8;n++)e.push(r.slice(n*4,(n+1)*4));return R(e.join(":"))}else return!1}function j(t,e){let r=w(t);if(typeof r!="object"||!A(e))return!1;let{lastHost:n,firstHost:i}=r,o=y(e),f=y(n),u=y(i);return o>=u&&o<=f}function lt(t){return typeof t!="string"?!1:typeof w(t)=="object"}function ut(t,e){return typeof t=="bigint"&&(t<0n||t>340282366920938463463374607431768211455n)||typeof e=="bigint"&&(e<0||e>340282366920938463463374607431768211455n)||(typeof t=="string"&&(t=y(t)),typeof e=="string"&&(e=y(e)),typeof t!="bigint"||typeof e!="bigint")?!1:t===e}function A(t){return/^[\s]*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:)))(%.+)?[\s]*$/.test(t)}function pt(t){if(!Array.isArray(t)||t.length===0)return!1;let e=[];for(let r of t){let n=w(r);typeof n=="object"&&e.push({cidr:r,firstHost:n.firstHost})}for(let r=0;r<e.length;r++)for(let n=r+1;n<e.length;n++){let i=j(e[n].cidr,e[r].firstHost),o=j(e[r].cidr,e[n].firstHost);if(i||o)return!0}return!1}function w(t){if(typeof t!="string")return!1;let[e,r]=t.split("/");if(e===void 0||r===void 0||r==="")return!1;let n=+r;if(!A(e)||isNaN(n)||n<0||n>128)return!1;let i=BigInt(128-n),o=y(e),f=BigInt(0b1n<<i),u=o>>i<<i,I=$(u),F=$(u|f-1n);return{ipCount:f,firstHost:I,lastHost:F,prefixLength:n}}function P(t){if(!A(t))return!1;if(t==="::")return"0000:".repeat(8).slice(0,-1);let e=t.split(":");for(let n=0;n<e.length;n++)e[n]===""&&e[n+1]===""&&e.splice(n,1);let r=e[e.length-1];if(l.isValidIP(r)){let n=l.toBinHex(r).hex.slice(2);e.pop()&&e.push(n.slice(0,4),n.slice(4))}return e.map(n=>n?n.padStart(4,"0"):"0000:".repeat(9-e.length).slice(0,-1)).join(":")}function ct(t){if(!c(t))return!1;let e=a(t),r=p(e);return{mapped:`::ffff:${r}`,comperssed:R(`::ffff:${r}`),expanded:P(`::ffff:${r}`)}}function S(t){if(typeof t!="number"||isNaN(t)||!b(t))return!1;let e=4294967295<<32-t;return t?p(e>>>0):"0.0.0.0"}function B(t){if(typeof t!="string"||!b(t))return!1;let e=a(t);return e===0?0:e.toString(2).replaceAll("0","").length}function dt(t){if(!b(t))return!1;typeof t=="number"&&(t=S(t));let e=~a(t)>>>0;return p(e)}var s=require("@raycast/api"),d=require("react/jsx-runtime");function L(t){let{keywork:e}=t.arguments,[r,n]=(0,D.useState)(e||""),i=r.trim()==="",o=i?!1:l.isValidIP(r),f=o?l.toIPv6Format(r):{};return(0,d.jsx)(s.List,{throttle:!0,searchText:r,onSearchTextChange:n,searchBarPlaceholder:"Input IPv4 address that needs to be converted\uFF01",children:i?(0,d.jsx)(s.List.EmptyView,{icon:{source:s.Icon.Warning,tintColor:s.Color.Yellow},title:"Please enter the IPv4 address that needs to be converted\uFF01"}):o?Object.entries(f).map(([u,I],F)=>{if(I!=="")return(0,d.jsx)(s.List.Item,{icon:s.Icon.Clipboard,title:u,subtitle:`${I}`,actions:(0,d.jsxs)(s.ActionPanel,{children:[(0,d.jsx)(s.Action.CopyToClipboard,{title:"Copy to Clipboard",content:`${I}`}),(0,d.jsx)(s.Action.CopyToClipboard,{title:"Copy All to Clipboard",content:JSON.stringify(f,null,2)})]})},F)}):(0,d.jsx)(s.List.EmptyView,{icon:{source:s.Icon.XMarkCircle,tintColor:s.Color.Red},title:"Please enter a valid IPv4 address\uFF01"})})}
